<!DOCTYPE html>
<html lang="zh-Hans">
<head><!-- hexo injector head_begin start -->
<link rel="stylesheet" href="/css/bilicard.css">
<link href="https://cdn.jsdelivr.net/npm/hexo-tag-common@0.0.5/css/index.css" rel="stylesheet"/><!-- hexo injector head_begin end -->
    <!-- // 通过jsDelivr的CDN引入echarts -->
    <script src="https://cdn.jsdelivr.net/npm/echarts@4.8.0/dist/echarts.min.js"></script>
    <!-- // 使用GL里的各种组件时需要添加，否则可不需要 -->
    <script src="https://cdn.jsdelivr.net/npm/echarts-gl@1.1.1/dist/echarts-gl.min.js"></script>

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>

    <!-- <script type="text/javascript" src="/js/texture.js"></script>
    <script type="text/javascript" src="/js/rose.js"></script> -->

    <meta charset="utf-8">
    <meta name="baidu-site-verification" content="code-WK4Q1HDzQk" />
    <meta name="google-site-verification" content="WV6BOVs7NRg-qgcovrSAgXFDsh8DNfm-siq4aTBYSb0" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="Hexo Theme Keep">
    <meta name="description" content="Hexo Theme Keep">
    <meta name="author" content="xiao ming">
    
    <title>
        
            日常开发笔记 |
        
        Silhouettes For You
    </title>
    
<link rel="stylesheet" href="/css/style.css">

    <link rel="shortcut icon" href="/images/breaking-bad-logo.png">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/css/font-awesome.min.css">
    <script id="hexo-configurations">
    let KEEP = window.KEEP || {};
    KEEP.hexo_config = {"hostname":"silhouettesforyou.github.io","root":"/","language":"zh-Hans","path":"search.json"};
    KEEP.theme_config = {"toc":{"enable":true,"number":true,"expand_all":false,"init_open":true},"style":{"primary_color":"#0066CC","avatar":"/images/avatar.jpg","favicon":"/images/breaking-bad-logo.png","article_img_align":"left","left_side_width":"260px","content_max_width":"920px","hover":{"shadow":true,"scale":true},"first_screen":{"enable":false,"background_img":"/images/bg.svg","description":null},"scroll":{"progress_bar":{"enable":true},"percent":{"enable":false}}},"local_search":{"enable":true,"preload":false},"code_copy":{"enable":true,"style":"mac"},"pjax":{"enable":false},"lazyload":{"enable":false},"version":"3.4.3"};
    KEEP.language_ago = {"second":"%s seconds ago","minute":"%s minutes ago","hour":"%s hours ago","day":"%s days ago","week":"%s weeks ago","month":"%s months ago","year":"%s years ago"};
  </script>
    
<style type="text/css">
.spoiler {
  display: inline;
}
p.spoiler {
  display: flex;
}
.spoiler a {
  pointer-events: none;
}
.spoiler-blur, .spoiler-blur > * {
  transition: text-shadow .5s ease;
}
.spoiler .spoiler-blur, .spoiler .spoiler-blur > * {
  color: rgba(0, 0, 0, 0);
  background-color: rgba(0, 0, 0, 0);
  text-shadow: 0 0 10px grey;
  cursor: pointer;
}
.spoiler .spoiler-blur:hover, .spoiler .spoiler-blur:hover > * {
  text-shadow: 0 0 5px grey;
}
.spoiler-box, .spoiler-box > * {
  transition: color .5s ease,
  background-color .5s ease;
}
.spoiler .spoiler-box, .spoiler .spoiler-box > * {
  color: black;
  background-color: black;
  text-shadow: none;
}</style><meta name="generator" content="Hexo 5.4.2"><style>mjx-container[jax="SVG"] {
  direction: ltr;
}

mjx-container[jax="SVG"] > svg {
  overflow: visible;
}

mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}

mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}

g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}

g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}

g[data-mml-node="mtable"] > line[data-line] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > .mjx-dashed {
  stroke-dasharray: 140;
}

g[data-mml-node="mtable"] > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}

g[data-mml-node="mtable"] > svg {
  overflow: visible;
}

[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}

[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}

mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}

g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}

mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}

foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}

.MathJax path {
  stroke-width: 3;
}

mjx-container[display="true"] {
  overflow: auto hidden;
}

mjx-container[display="true"] + br {
  display: none;
}
</style><link rel="alternate" href="/atom.xml" title="Silhouettes For You" type="application/atom+xml">
</head>



<!--动态线条背景-->
<script type="text/javascript" color="220,220,220" opacity='0.7' zIndex="0.5" count="200" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script>

<body>
<div class="progress-bar-container">
    
        <span class="scroll-progress-bar"></span>
    

    
</div>


<main class="page-container">

    

    <div class="page-main-content">

        
        <div class="page-main-content-top">
            <header class="header-wrapper">

    <div class="header-content">
        <div class="left">
            
            <a class="logo-title" href="/">
                Silhouettes For You
            </a>
        </div>

        <div class="right">
            <div class="pc">
                <ul class="menu-list">
                    
                        <li class="menu-item">
                            <a class=""
                               href="/"
                            >
                                HOME
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/archives"
                            >
                                ARCHIVES
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/categories"
                            >
                                CATEGORIES
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/tags"
                            >
                                TAGS
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/lover"
                            >
                                LOVER
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/about"
                            >
                                ABOUT
                            </a>
                        </li>
                    
                    
                        <li class="menu-item search search-popup-trigger">
                            <i class="fas fa-search"></i>
                        </li>
                    
                </ul>
            </div>
            <div class="mobile">
                
                    <div class="icon-item search search-popup-trigger"><i class="fas fa-search"></i></div>
                
                <div class="icon-item menu-bar">
                    <div class="menu-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="header-drawer">
        <ul class="drawer-menu-list">
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/">HOME</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/archives">ARCHIVES</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/categories">CATEGORIES</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/tags">TAGS</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/lover">LOVER</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/about">ABOUT</a>
                </li>
            
        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="page-main-content-middle">

            <div class="main-content">

                
                    <div class="fade-in-down-animation">
    <div class="article-content-container">

        <div class="article-title">
            <span class="title-hover-animation">日常开发笔记</span>
        </div>

        
            <div class="article-header">
                <div class="avatar">
                    <img src="/images/avatar.jpg">
                </div>
                <div class="info">
                    <div class="author">
                        <span class="name">xiao ming</span>
                        
                    </div>
                    <div class="meta-info">
                        <div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fas fa-edit"></i>&nbsp;2021-11-05 12:06:38
    </span>
    
        <span class="article-categories article-meta-item">
            <i class="fas fa-folder"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/categories/%E6%97%A5%E5%B8%B8/">日常</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    
    
        <span class="article-tags article-meta-item">
            <i class="fas fa-tags"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/tags/git/">git</a>&nbsp;
                    </li>
                
                    <li>
                        | <a href="/tags/unity/">unity</a>&nbsp;
                    </li>
                
                    <li>
                        | <a href="/tags/c/">c#</a>&nbsp;
                    </li>
                
                    <li>
                        | <a href="/tags/c/">c++</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    

    
    
        <span class="article-wordcount article-meta-item">
            <i class="fas fa-file-word"></i>&nbsp;<span>6.9k Words</span>
        </span>
    
    
    
</div>

                    </div>
                </div>
            </div>
        

        <div class="article-content markdown-body">
            <link rel="stylesheet" type="text&#x2F;css" href="https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.3.1/dist/hexo-tag-hint.min.css"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><h2 id="Git- 相关"><a href="#Git- 相关" class="headerlink" title="Git 相关"></a>Git 相关</h2><p><img src="/2021/11/05/3/git-framework.png"></p>
<h3 id="相关命令"><a href="# 相关命令" class="headerlink" title="相关命令"></a>相关命令</h3><ul>
<li><p>分支</p>
<ul>
<li><p>git 回退本地修改</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git checkout &lt;filename&gt;</span><br><span class="line">git checkout .</span><br></pre></td></tr></table></figure></li>
<li><p>切换到分支</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git checkout &lt;branch&gt; <span class="comment"># 切换到 &lt;branch&gt; 分支</span></span><br><span class="line">git checkout -b &lt;branch&gt; <span class="comment"># 创建 &lt;branch&gt; 分支并切换到该分支</span></span><br></pre></td></tr></table></figure></li>
<li><p>删除分支</p>
<ul>
<li><p>删除本地分支</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -d &lt;branch&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>删除远程分支</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin -d &lt;branch&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
</li>
<li><p>清空 git 缓存</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">rm</span> -r --cached .</span><br></pre></td></tr></table></figure></li>
<li><p>日志</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>-&lt;n&gt;</code>：显示日志（q 退出），显示 n 条日志</li>
<li><code>--stat</code>：每个提交都列出了修改过的文件，以及其中添加和移除的行数，并在最后列出所有增减行数</li>
<li><code>author</code>：显示指定作者的提交</li>
<li><code>--grep</code>：过滤提交说明中的文字</li>
<li><code>--&lt;path&gt;</code>：如果只关心某个文件或者目录的历史提交，可以在 <code>git log</code> 最后指定路径</li>
</ul>
</li>
<li><p>比较工作区和上个提交版本的区别</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git diff &lt;filename&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>拉取</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git fetch <span class="comment"># 拉取所有分支的变化</span></span><br><span class="line">git fetch -p <span class="comment"># 拉取所有分支的变化，并将远端不存在的分支同步移除</span></span><br><span class="line">git fetch &lt;origin master&gt; <span class="comment"># 拉取指定分支的变化</span></span><br></pre></td></tr></table></figure></li>
<li><p>回滚</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git reset <span class="comment"># 将提交记录回滚，代码不回滚</span></span><br><span class="line">git reset --hard <span class="comment"># 将提交记录和代码全部回滚</span></span><br></pre></td></tr></table></figure></li>
<li><span class="hint--info hint--rounded hint--top" data-hint="存放；贮藏" ontouchstart>stash</span>

<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git stash <span class="comment"># 将当前工作区的状态存储下来</span></span><br><span class="line">git stash list <span class="comment"># 查看当前有多少 stash</span></span><br><span class="line">git stash apply --index <span class="comment"># 把某一个 stash 应用回当前的分支</span></span><br><span class="line">git stash -include-untracked <span class="comment"># 有些文件没有在 git 的 track 里，可以添加参数来存储对应的文件</span></span><br></pre></td></tr></table></figure>

<ul>
<li>用 <code>git stash apply</code> 命令恢复，但是恢复后，<span class="hint--info hint--rounded hint--top" data-hint="存放；贮藏" ontouchstart>stash</span>内容并不删除，需要用 <code>git stash drop</code> 来删除</li>
<li>用 <code>git stash pop</code> 命令，恢复的同时把 <span class="hint--info hint--rounded hint--top" data-hint="存放；贮藏" ontouchstart>stash</span> 存储列表的内容也删除</li>
</ul>
</li>
<li><p>查看某个 hash 所对应的 object 中的内容</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git cat-file -p &lt;commit_id&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>丢弃本地修改的所有文件（新增、删除、修改）</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">git checkout . <span class="comment"># 本地所有修改的。没有的提交的，都返回到原来的状态 </span></span><br><span class="line">git stash <span class="comment"># 把所有没有提交的修改暂存到 stash 里面。可用 git stash pop 回复</span></span><br><span class="line"></span><br><span class="line">git reset --hard HASH <span class="comment"># 返回到某个节点，不保留修改，已有的改动会丢失</span></span><br><span class="line">git reset --soft HASH <span class="comment"># 返回到某个节点，保留修改，已有的改动会保留，在未提交中，git status 或 git diff 可看</span></span><br><span class="line"></span><br><span class="line">git clean -<span class="built_in">df</span> <span class="comment"># 返回到某个节点，（未跟踪文件的删除）</span></span><br><span class="line">git clean 参数</span><br><span class="line">  <span class="comment"># -n 不实际删除，只是进行演练，展示将要进行的操作，有哪些文件将要被删除。（可先使用该命令参数，然后再决定是否执行）</span></span><br><span class="line">  <span class="comment"># -f 删除文件</span></span><br><span class="line">  <span class="comment"># -i 显示将要删除的文件</span></span><br><span class="line">  <span class="comment"># -d 递归删除目录及文件（未跟踪的）</span></span><br><span class="line">  <span class="comment"># -q 仅显示错误，成功删除的文件不显示</span></span><br><span class="line"></span><br><span class="line"> 注：</span><br><span class="line">git reset <span class="comment"># 删除的是已跟踪的文件，将已 commit 的回退</span></span><br><span class="line">git clean <span class="comment"># 删除的是未跟踪的文件</span></span><br><span class="line"></span><br><span class="line">git clean -nxdf <span class="comment"># 查看要删除的文件及目录，确认无误后再使用下面的命令进行删除</span></span><br><span class="line">git checkout . &amp;&amp; git clean -xdf</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="Hexo- 部署的博客 -Git- 提交到 -Github- 账户错乱的问题"><a href="#Hexo- 部署的博客 -Git- 提交到 -Github- 账户错乱的问题" class="headerlink" title="Hexo 部署的博客 Git 提交到 Github 账户错乱的问题"></a>Hexo 部署的博客 Git 提交到 Github 账户错乱的问题 </h3><p> 由于通过 ** SmartGit ** 设置了 <span class="hint--info hint--rounded hint--top" data-hint="git config user.name" ontouchstart> 全局的用户名 </span> 和<span class="hint--info hint--rounded hint--top" data-hint="git config user.email" ontouchstart>全局的邮箱</span>（工作用的 Git 账号和邮箱）导致提交到 Github 上的版本不是自己的账户</p>
<p><img src="/2021/11/05/3/git-username-problem-1.png"></p>
<hr>
<h4 id="解决方法"><a href="# 解决方法" class="headerlink" title="解决方法"></a>解决方法 </h4><p> 在博客目录下找到 <code>.deploy_git</code> 目录（没有的话用 <code>hexo g</code> 生成一下就可以），然后可以看到当前目录的用户名和邮箱与自己的不一致，通过以下命令可以更改为一致的用户名和邮箱：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config user.name SilhouettesForYou</span><br><span class="line">git config user.email mgze.wang@gmail.com</span><br></pre></td></tr></table></figure>

<p><img src="/2021/11/05/3/git-username-problem-2.png"></p>
<p>之后再进行博客的 <span class="hint--info hint--rounded hint--top" data-hint="hexo d" ontouchstart> 发布 </span> 便可以用正确的用户提交到 Github</p>
<h3 id="Git- 文件目录结构解析"><a href="#Git- 文件目录结构解析" class="headerlink" title="Git 文件目录结构解析"></a>Git 文件目录结构解析</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">.git </span><br><span class="line">|-- COMMIT_EDITMSG  // 提交 commit 时的信息记录</span><br><span class="line">|-- FETCH_HEAD  // 记录了上次 fetch 的分支的 commit 的 HASH</span><br><span class="line">|-- HEAD   // 记录了当前头指针在。git 存储的地址，如 refs/heads/brancha</span><br><span class="line">|-- ORIG_HEAD </span><br><span class="line">|-- branches</span><br><span class="line">|-- config  // 一些开关 &amp; 记录了所有分支的 fetch&amp;merge 的策略，在 checkout -b 或 --set-upstream-to</span><br><span class="line">            // 时将向 config 中添加本地分支对应的远端分支信息</span><br><span class="line">|-- description</span><br><span class="line">|-- hooks  //hook 脚本的存储位置，里面有一些 sample 脚本</span><br><span class="line">|   |-- applypatch-msg.sample</span><br><span class="line">|   |-- commit-msg.sample</span><br><span class="line">|   |-- post-update.sample</span><br><span class="line">|   |-- pre-applypatch.sample</span><br><span class="line">|   |-- pre-commit.sample</span><br><span class="line">|   |-- pre-push.sample</span><br><span class="line">|   |-- pre-rebase.sample</span><br><span class="line">|   |-- prepare-commit-msg.sample</span><br><span class="line">|   |-- update.sample</span><br><span class="line">|-- index</span><br><span class="line">|-- info</span><br><span class="line">|   `-- exclude</span><br><span class="line">|-- logs  // 头指针改变的日志文件</span><br><span class="line">|   |-- HEAD  // 对于整个仓库的头指针改变的记录</span><br><span class="line">|   `-- refs</span><br><span class="line">|       |-- heads  // 对于单个本地仓库头指针改变的记录（会记录包含冲突的状态）</span><br><span class="line">|       |   |-- brancha</span><br><span class="line">|       |   |-- branchb</span><br><span class="line">|       |   `-- main</span><br><span class="line">|       `-- remotes   </span><br><span class="line">|           `-- origin</span><br><span class="line">|               |-- HEAD</span><br><span class="line">|               |-- brancha</span><br><span class="line">|               `-- branchb</span><br><span class="line">|-- objects // 所有 commit、tree、... 的快照，将 commit 的 HASH 值的前两位作为文件夹名，后面的值作为快照名</span><br><span class="line">|   |-- 12 //commit 的 HASH 值的前两位</span><br><span class="line">|   |   `-- d4b6c73ffad196c6972c93e5ce9e691e5862c0  //commit 的 HASH 值除了前两位</span><br><span class="line">|   |-- 1d</span><br><span class="line">|   |   `-- b538af883f712194118c2d98eb63422dc62d94</span><br><span class="line">|   |-- 21</span><br><span class="line">|   |   `-- a23a99b0430e5a7aa5cdd8c56012f89318c9fe</span><br><span class="line">|   |-- 2c</span><br><span class="line">|   |   `-- 0b785731151d48705e4985aad2520f21c36bbb</span><br><span class="line">|   |-- 3b</span><br><span class="line">|   |   `-- 18e512dba79e4c8300dd08aeb37f8e728b8dad</span><br><span class="line">|   |-- info</span><br><span class="line">|   `-- pack</span><br><span class="line">|       |-- pack-0aa3e5057acbdff932634f63ea390953828409dd.idx</span><br><span class="line">|       `-- pack-0aa3e5057acbdff932634f63ea390953828409dd.pack</span><br><span class="line">|-- packed-refs</span><br><span class="line">`-- refs  // 头指针等信息的记录</span><br><span class="line">    |-- heads  // 记录了每个本地分支当前头指针所在 commit 的 HASH</span><br><span class="line">    |   |-- brancha</span><br><span class="line">    |   |-- branchb</span><br><span class="line">    |   `-- main</span><br><span class="line">    |-- remotes  // 记录了每个远程分支当前头指针所在 commit 的 HASH</span><br><span class="line">    |   `-- origin</span><br><span class="line">    |       |-- HEAD</span><br><span class="line">    |       |-- brancha</span><br><span class="line">    |       `-- branchb</span><br><span class="line">    `-- tags</span><br></pre></td></tr></table></figure>

<h3 id="Git- 切换远端分支"><a href="#Git- 切换远端分支" class="headerlink" title="Git 切换远端分支"></a>Git 切换远端分支 </h3><h4 id="查看所有分支"><a href="# 查看所有分支" class="headerlink" title="查看所有分支"></a> 查看所有分支</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git branch -a | grep key-word</span><br><span class="line"></span><br><span class="line">git branch -a | grep skilltest</span><br><span class="line">remotes/origin/feature_4it01_skilltesttools</span><br><span class="line">remotes/origin/feature_ghs_4it01_skilltesttools</span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>git branch</code>不带参数，列出本地已经存在的分支，并且在当前分支的前面用 <code>*</code> 标记，加上 -a 参数可以查看所有分支列表，包括本地和远程，远程分支一般会用红色字体标记出来 <br> 如果用<code>git branch -a</code> 没有显示全部的远程分支，可以通过 <code>git fetch</code> 将本地远程跟踪分支进行更新，与远程分支保持一致</p>
</blockquote>
<h4 id="新建分支并切换到指定分支"><a href="# 新建分支并切换到指定分支" class="headerlink" title="新建分支并切换到指定分支"></a>新建分支并切换到指定分支</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b feature_4it01_skilltesttools origin/feature_4it01_skilltesttools</span><br></pre></td></tr></table></figure>

<p>该命令可以将远程 git 仓库里的指定分支拉取到本地，这样就在本地新建了一个 <code>feature_4it01_skilltesttools</code> 分支，并和指定的远程分支 <code>origin/feature_4it01_skilltesttools</code> 关联了起来。</p>
<h4 id="查看本地分支及追踪的分支"><a href="# 查看本地分支及追踪的分支" class="headerlink" title="查看本地分支及追踪的分支"></a>查看本地分支及追踪的分支</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git branch -vv</span><br><span class="line">develop                      98e306d76c5 [origin/develop: behind 1461] [AUTO COMMIT OFFLINES]commit by tools</span><br><span class="line">* feature_4it01_skilltesttools c44dbb8584f [origin/feature_4it01_skilltesttools] Merge branch <span class="string">'all.dev.ep7'</span> into all.ep7.it01</span><br></pre></td></tr></table></figure>

<p><code>*</code>表示当前所在分支，[远程分支] 表示当前本地分支追踪的远程分支，最后一个是最近一次提交的注释。</p>
<h3 id="git-cherry-pick 用法"><a href="#git-cherry-pick 用法" class="headerlink" title="git cherry-pick 用法"></a><code>git cherry-pick</code>用法 </h3><p> 对于多分支的代码库，将代码从一个分支转移到另一个分支是常见需求。如果需要另一个分支的所有代码变动，那么就采用<code>git merge</code>；如果只需要部分代码变动（某几个提交），这时可以采用<code>git cherry-pick</code>，它的功能是把已经存在的 ** commit ** 进行挑选，然后重新提交。</p>
<h4 id="转移一个提交"><a href="# 转移一个提交" class="headerlink" title="转移一个提交"></a>转移一个提交</h4><ul>
<li>先切换到 A 分支<code>git checkout A</code></li>
<li>找到这次提交<code>git log</code>，赋值<code>&lt;hash code&gt;</code></li>
<li>再切换到 B 分支<code>git chekcou B</code></li>
<li>把 A 分支下的至此提交重新提交到 B 分支下<code>git cherrt-pick &lt;hash code&gt;</code></li>
</ul>
<p>当执行完 <code>git cherry-pick</code>以后，将会生成一个新的提交，这个新的提交的 hash 值和原来的不同，但标志名称一样。</p>
<h4 id="转移多个提交"><a href="# 转移多个提交" class="headerlink" title="转移多个提交"></a>转移多个提交</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git cherry-pick &lt;<span class="built_in">hash</span> code 1&gt; &lt;<span class="built_in">hash</span> code 2&gt;</span><br><span class="line">git cherry-pick &lt;<span class="built_in">hash</span> code begin&gt;..&lt;<span class="built_in">hash</span> code end&gt; <span class="comment"># 左开右闭，顺序必须正确</span></span><br><span class="line">git cherry-pick &lt;<span class="built_in">hash</span> code begin&gt;^..&lt;<span class="built_in">hash</span> code end&gt; <span class="comment"># 左闭右闭</span></span><br></pre></td></tr></table></figure>

<h2 id="Unity- 相关"><a href="#Unity- 相关" class="headerlink" title="Unity 相关"></a>Unity 相关 </h2><h3 id="几种 Update 方法的区别"><a href="# 几种 Update 方法的区别" class="headerlink" title="几种 Update 方法的区别"></a> 几种 <code>Update</code> 方法的区别 </h3><h4 id="Update"><a href="#Update" class="headerlink" title="Update"></a>Update</h4><p><code>Update</code> 是在每次渲染新的一帧的时候才会调用</p>
<h4 id="FixedUpdate"><a href="#FixedUpdate" class="headerlink" title="FixedUpdate"></a>FixedUpdate</h4><p>该函数用于固定更新，在游戏运行的过程中，每一帧的处理时间是不固定的，当需要固定间隔时间执行某些代码时，就会用到 <code>FixedUpdate()</code> 函数</p>
<h4 id="LastUpdate"><a href="#LastUpdate" class="headerlink" title="LastUpdate"></a>LastUpdate</h4><p>该函数是延迟更新函数，处于激活状态虾的脚本在每一帧里都会在 <code>Update()</code> 函数执行后调用该函数，通常用来调正代码执行的顺序。比如玩家的角色需要一个摄像机来跟随，那么通常角色的移动逻辑会写在 <code>Update()</code> 里，而摄像机跟随写在 <code>LastUpdate()</code> 里。这样可以确保在角色的位置计算完毕后，再根据角色位置确定摄像机的位置和视角</p>
<h3 id="Unity3D- 内存管理——对象池（Object-Pool）"><a href="#Unity3D- 内存管理——对象池（Object-Pool）" class="headerlink" title="Unity3D 内存管理——对象池（Object Pool）"></a>Unity3D 内存管理——对象池（Object Pool）</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">using System.Collections.Generic;</span><br><span class="line">using UnityEngine.Events;</span><br><span class="line"></span><br><span class="line">namespace UnityEngine.UI</span><br><span class="line">{</span><br><span class="line">    internal <span class="class"><span class="keyword">class</span> <span class="title">ObjectPool</span>&lt;</span>T&gt; where T : new()</span><br><span class="line">    {</span><br><span class="line">        private readonly Stack&lt;T&gt; m_Stack = new Stack&lt;T&gt;();</span><br><span class="line">        private readonly UnityAction&lt;T&gt; m_ActionOnGet;</span><br><span class="line">        private readonly UnityAction&lt;T&gt; m_ActionOnRelease;</span><br><span class="line"></span><br><span class="line">        public <span class="type">int</span> countAll {get; private <span class="built_in">set</span>; }</span><br><span class="line">        public <span class="type">int</span> countActive {get { <span class="keyword">return</span> countAll - countInactive; } }</span><br><span class="line">        public <span class="type">int</span> countInactive {get { <span class="keyword">return</span> m_Stack.Count; } }</span><br><span class="line"></span><br><span class="line">        public <span class="title function_">ObjectPool</span><span class="params">(UnityAction&lt;T&gt; actionOnGet, UnityAction&lt;T&gt; actionOnRelease)</span></span><br><span class="line">        {</span><br><span class="line">            m_ActionOnGet = actionOnGet;</span><br><span class="line">            m_ActionOnRelease = actionOnRelease;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        public T <span class="title function_">Get</span><span class="params">()</span></span><br><span class="line">        {</span><br><span class="line">            T element;</span><br><span class="line">            <span class="keyword">if</span> (m_Stack.Count == <span class="number">0</span>)</span><br><span class="line">            {</span><br><span class="line">                element = new T();</span><br><span class="line">                countAll++;</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            {</span><br><span class="line">                element = m_Stack.Pop();</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">if</span> (m_ActionOnGet != null)</span><br><span class="line">                m_ActionOnGet(element);</span><br><span class="line">            <span class="keyword">return</span> element;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        public <span class="type">void</span> <span class="title function_">Release</span><span class="params">(T element)</span></span><br><span class="line">        {</span><br><span class="line">            <span class="keyword">if</span> (m_Stack.Count &gt; <span class="number">0</span> &amp;&amp; ReferenceEquals(m_Stack.Peek(), element))</span><br><span class="line">                Debug.LogError(<span class="string">"Internal error. Trying to destroy object that is already released to pool."</span>);</span><br><span class="line">            <span class="keyword">if</span> (m_ActionOnRelease != null)</span><br><span class="line">                m_ActionOnRelease(element);</span><br><span class="line">            m_Stack.Push(element);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><code>ObjectPool</code>使用了一个栈（后进先出的数据结构），当需要新建（Get）一个新的对象的时候先从栈顶取出第一个，当使用结束的时候将其释放掉（Relaease），就是将其重新放回栈里面，而不是每次都实例化一个新的对象。</p>
<h3 id="协程"><a href="# 协程" class="headerlink" title="协程"></a>协程 </h3><p> 协程不是线程，不是异步执行。协程和 <code>MonoBehaviour</code> 的<code>Update</code>函数一样在主线程中执行，Unity 在每一帧都会处理对象上的协程。</p>
<h4 id="协程的执行原理"><a href="# 协程的执行原理" class="headerlink" title="协程的执行原理"></a>协程的执行原理 </h4><h5 id="IEnumberator"><a href="#IEnumberator" class="headerlink" title="IEnumberator"></a><code>IEnumberator</code></h5><p> 协程函数的返回值时<code>IEnumberator</code>，它是一个迭代器，可以把它当成执行一个序列的某个节点的指针。它 3 个方法，分别是</p>
<ul>
<li><code>Current</code>：返回当前指向的元素</li>
<li><code>MoveNext</code>：将指针向后移动一个单位，如果移动成功，则返回<code>true</code></li>
<li><code>Reset</code>：把位置重置为初始状态</li>
</ul>
<h5 id="yield"><a href="#yield" class="headerlink" title="yield"></a><code>yield</code></h5><p><code>yield</code>关键字用来声明序列中的下一个值或者是一个无意义的值。</p>
<p>当用 <code>yield return x</code>（<code>x</code> 是指一个具体的对象或数值）挂起协程：<code>MoveNext</code>返回为 <code>true</code>，<code>Current</code> 被赋值为 <code>x</code>；当用<code>yield break</code> 挂起协程，<code>MoveNext</code>返回为 <code>false</code>。<strong> 如果 <code>MoveNext</code> 函数返回为 <code>true </code> 意味着协程的执行条件被满足，则能够从当前位置继续往下执行，否则不能从当前位置继续往下执行。只有当 <code>MoveNext</code> 返回 <code>false</code> 时，才会执行 <code>yield return</code> 后面的语句。</strong></p>
<h4 id="中断函数类型"><a href="# 中断函数类型" class="headerlink" title="中断函数类型"></a>中断函数类型</h4><table>
<thead>
<tr>
<th align="left">语句</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>yield return null</code>/<code>yield return 0;</code></td>
<td>程序在下一帧中从当前位置继续执行</td>
</tr>
<tr>
<td align="left"><code>yield return new WaitForSeconds(N);</code></td>
<td>程序等待 N 秒后从当前位置继续执行</td>
</tr>
<tr>
<td align="left"><code>yield new WaitForEndOfFrame();</code></td>
<td>在所有的渲染以及 GUI 程序执行完成后从当前位置继续执行</td>
</tr>
<tr>
<td align="left"><code>yield new WaitForFixedUpdate();</code></td>
<td>所有脚本中的 <code>FixedUpdate()</code> 函数都被执行后从当前位置继续执行</td>
</tr>
<tr>
<td align="left"><code>yield return WWW;</code></td>
<td>等待一个网络请求完成后从当前位置继续执行</td>
</tr>
<tr>
<td align="left"><code>yield return StartCoroutine(xxx);</code></td>
<td>等待一个 xxx 的协程执行完成后从当前位置继续执行</td>
</tr>
<tr>
<td align="left"><code>yield break;</code></td>
<td>跳出协程</td>
</tr>
</tbody></table>
<blockquote>
<p><a class="link" target="_blank" rel="noopener" href="https://stackoverflow.com/questions/39268753/what-is-the-difference-between-yield-return-0-and-yield-return-null-in-corou">What is the difference between “yield return 0” and “yield return null” in Coroutine<i class="fas fa-external-link-alt"></i></a></p>
<p>Both <code>yield return 0</code> and <code>yield return null</code> yields for a single frame. The biggest difference is that <code>yield return 0</code> allocates memory because of boxing and unboxing of the <code>0</code> that happens under the hood, but <code>yield return null</code> does <strong>not</strong> allocate memory. Because of this, it is highly recommended to use <code>yield return null</code> if you care about performance.</p>
</blockquote>
<h3 id="Unity-EditorWindow- 的 OnGUI 刷新"><a href="#Unity-EditorWindow- 的 OnGUI 刷新" class="headerlink" title="Unity EditorWindow 的 OnGUI 刷新"></a>Unity EditorWindow 的 <code>OnGUI</code> 刷新 </h3><p> 在编辑器模式下，<code>OnGUI</code>只有在窗口激活的状态（即鼠标移动到窗口上、点击事件等）才会刷新，执行<code>OnGUI</code>。如果需要实时刷新的话，可用 OnInspectorUpdate 开启窗口重绘，Unity 会每秒 10 帧重绘窗口。</p>
<hr>
<h2 id="C- 相关"><a href="#C- 相关" class="headerlink" title="C#相关"></a>C# 相关 </h2><h3 id="C- 泛型约束"><a href="#C- 泛型约束" class="headerlink" title="C#泛型约束"></a>C# 泛型约束</h3><p> 在定义泛型类时。可以对代码能够在实例化类时用于类型参数的类型种类加限制。如果代码尝试使用某个约束所不允许的类型来实例化类，则会产生编译错误。这些限制成为约束，约束是使用 <code>where</code> 上下文关键字指定的。</p>
<table>
<thead>
<tr>
<th>约束</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>T : struct</code></td>
<td>类型参数碧血是值类型，可以指定除 <code>Nullable</code> 以外的任何值类型</td>
</tr>
<tr>
<td><code>T : class</code></td>
<td>类型参数必须是引用类型，包括任何类、接口、委托或数组类型</td>
</tr>
<tr>
<td><code>T : new()</code></td>
<td>类型参数必须具有无参数的公共构造函数，当与其他约束一起使用时，<code>new()</code>约束必须最后指定</td>
</tr>
<tr>
<td><code>T : &lt; 基类名 &gt;</code></td>
<td>类型参数必须是指定的基类或派生自指定的基类</td>
</tr>
<tr>
<td><code>T : &lt; 接口名 &gt;</code></td>
<td>类型参数必须是指定的接口或实现指定的接口，可以指定多个接口约束，接口约束也可以是泛型的</td>
</tr>
<tr>
<td><code>T : U</code></td>
<td>为 <code>T</code> 提供的类型参数必须是为 <code>U</code> 提供的参数或派生自为 <code>U</code> 提供的参数，这成为裸类型约束</td>
</tr>
</tbody></table>
<h3 id="default 函数"><a href="#default 函数" class="headerlink" title="default 函数"></a><code>default</code>函数 </h3><p><code>default(T)</code> 可以得到该类型的默认值，C# 在初始化时，会给未显示肤质的字段、属性赋上默认值，但值变量却不会，值变量可以使用默认构造函数赋值，或者使用 <code>default(T)</code> 赋值。</p>
<table>
<thead>
<tr>
<th>值类型</th>
<th>默认值</th>
</tr>
</thead>
<tbody><tr>
<td><code>bool</code></td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>byte</code>/<code>int</code>/<code>sbyte</code> /<code>short</code> /<code>uint</code> /<code>ulong</code> /<code>ushort</code></td>
<td>0</td>
</tr>
<tr>
<td><code>decimal</code></td>
<td><code>0.0M</code></td>
</tr>
<tr>
<td><code>double</code></td>
<td><code>0.0D</code></td>
</tr>
<tr>
<td><code>float</code></td>
<td><code>0.0F</code></td>
</tr>
<tr>
<td><code>long</code></td>
<td><code>0L</code></td>
</tr>
<tr>
<td><code>enum</code></td>
<td>表达式 <code>(E)0</code> 产生的值，其中 <code>E</code> 为<code>enum</code>标识符</td>
</tr>
<tr>
<td><code>struct</code></td>
<td>将所有的值类型字段设置为默认值并将所有的引用类型字段设置为 <code>null</code> 时产生的值</td>
</tr>
<tr>
<td>引用类型</td>
<td><code>null</code></td>
</tr>
</tbody></table>
<h3 id="C- 中 is，as，using 关键字的使用"><a href="#C- 中 is，as，using 关键字的使用" class="headerlink" title="C#中 is，as，using 关键字的使用"></a>C# 中 <code>is</code>，<code>as</code>，<code>using</code> 关键字的使用</h3><ul>
<li><code>is</code>：用于检查对象是否与给定类型兼容，不会抛出异常</li>
<li><code>as</code>：用于引用类型之间转换，直接进行转换，若转换成功，则返回转换后的对象，若转换失败则返回<code>null</code>，不会抛出异常</li>
<li><code>using</code>：引用命名空间，有效回收资源，<code>using</code>关键字可以回收多个对象的资源，关键字后面的小括号内创建的对象必须实现 <code>IDisposanble</code> 接口，或者该类的基类已经实现了 <code>IDisposable</code> 接口。回收资源的时机是在 <code>using</code> 关键字下面的代码块执行完成之后自动调用接口方法 <code>Dispose()</code> 销毁对象</li>
</ul>
<h3 id="ref 和 out 关键字"><a href="#ref 和 out 关键字" class="headerlink" title="ref 和 out 关键字"></a><code>ref</code>和 <code>out</code> 关键字</h3><p>C# 的数据类型有两种：一种是值类型（value type），一种是引用类型（reference type）。</p>
<ul>
<li>值类型：结构体（数值类型，<code>bool</code>，用户自定义结构体）、枚举和可空类型。</li>
<li>引用类型：数组、用户定义的类、接口、委托、<code>object</code>、字符串。</li>
</ul>
<p>值类型和引用类型的区别在于：函数传递的时候，值类型把自己的值复制一份传递给别的函数；引用类型则是把自己的地址传递给函数。</p>
<p><code>ref</code>和 <code>out</code> 都是按地址传递的，使用后都将改变原来参数的数值。<code>ref</code>可以把参数的数值传递进函数，传递到 <code>ref</code> 参数必须初始化，否则会报错；但是 <code>out</code> 是要把参数清空，无法把一个数值从 <code>out</code> 传递进去，传递进去后必须初始化一次。</p>
<h3 id="C- 特性标签（Attribute）"><a href="#C- 特性标签（Attribute）" class="headerlink" title="C#特性标签（Attribute）"></a>C# 特性标签（Attribute）</h3><p>公共语言运行时能够添加类似于关键字的描述性声明称为特性，以便批注编程元素（如类型、字段、方法和属性）。将特性与程序实体相关联后，可以在运行时使用 <strong> 反射 </strong> 查询特性。</p>
<p>可以将特性附加到几乎任何声明中。在 C# 中，通过用方括号（<code>[]</code>）将特性名称括起来，并置于应用该特性的实体的声明上方以指定特性。</p>
<h4 id="创建自定义特性"><a href="# 创建自定义特性" class="headerlink" title="创建自定义特性"></a>创建自定义特性 </h4><p> 可以通过定义特性类创建自定义特性，特性类是直接或间接派生自 <code>Attribute</code> 的类，可快速轻松地识别元数据中的特性定义。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[System.AttributeUsage(System.AttributeTargets.Class | System.AttributeTargets.Struct)]</span><br><span class="line">public <span class="class"><span class="keyword">class</span> <span class="title">AuthorAttribute</span> :</span> System.Attribute</span><br><span class="line">{</span><br><span class="line">    private <span class="built_in">string</span> name;</span><br><span class="line">    public <span class="type">double</span> version;</span><br><span class="line">    public <span class="title function_">AuthorAttribute</span><span class="params">(<span class="built_in">string</span> name)</span></span><br><span class="line">    {</span><br><span class="line">        this.name = name;</span><br><span class="line">        version = <span class="number">1.0</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<h4 id="访问特性"><a href="# 访问特性" class="headerlink" title="访问特性"></a>访问特性 </h4><p> 对于自定义特性，可以用 <code>Type</code> 中的 <code>IsDefined</code> 和<code>GetCustomAttributes</code>方法来获取。</p>
<ul>
<li><code>IsDefined</code>：<code>public abstract bool IsDefined(Type attributeType, bool inherit)</code>，用来加测某个特性是否应用到某个类上</li>
<li><code>GetCustomAttributes</code>：<code>public abstract object[] GetCustomAttributes(bool inherit)</code>，调用它后，会创建一个与目标相关联的特性的实例</li>
</ul>
<h4 id="特性与注释的区别"><a href="# 特性与注释的区别" class="headerlink" title="特性与注释的区别"></a>特性与注释的区别 </h4><p> 注释是对程序源代码的一种说明，程序编译的时候会忽略它，而特性是代码的一部分，它会被编译器编译进程序的元数据里，在程序运行的时候，随时可以从元数据中提取出这些附加信息。</p>
<h3 id="Action 委托与 Func 委托"><a href="#Action 委托与 Func 委托" class="headerlink" title="Action 委托与 Func 委托"></a><code>Action</code>委托与 <code>Func</code> 委托 </h3><p><code>Action</code> 不能指向有返回值的方法，不能有返回值。<code>Func</code>可以指向有一个返回值的方法，且必须有返回值。</p>
<h3 id="Activator-CreateInstance-lt-T-gt- 与 new"><a href="#Activator-CreateInstance-lt-T-gt- 与 new" class="headerlink" title="Activator.CreateInstance<T>与 new"></a><code>Activator.CreateInstance&lt;T&gt;</code>与 <code>new</code></h3><p><code>new</code> 和<code>Activator.CreateInstance</code>都用于实例化一个类，<code>Activator.CreateInstance</code>使用与指定参数匹配程度最高的构造函数来创建指定类型的实例。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">public <span class="type">static</span> T Factory&lt;T&gt;() where T : new()</span><br><span class="line">{</span><br><span class="line">    <span class="keyword">return</span> new T();</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>编译器会将 <code>return new T()</code> 转换调用 <code>Actuvator.CreateInstance</code> 方法。</p>
<h3 id="C- 资源回收和 IDisposable 接口的使用"><a href="#C- 资源回收和 IDisposable 接口的使用" class="headerlink" title="C#资源回收和 IDisposable 接口的使用"></a>C# 资源回收和 <code>IDisposable</code> 接口的使用</h3><ul>
<li><p>托管资源和非托管资源</p>
<ul>
<li>托管资源由 CLR 来维护，自动进行垃圾回收，比如数组</li>
<li>非托管资源不会进行自动垃圾回收，需要手动释放，比如句柄。但在 c# 中的非托管资源很多都被封装到。NET 类中，当对象释放时内部方法同时释放非托管资源</li>
</ul>
<p>在 C# 中创建的对象，数组，列表等等都不需要考虑资源释放的问题，因为它会被 CLR 的垃圾回收机制自动回收。创建的对象释放时是随机的不确定时长的等待自动回收机制进行收回，有没有办法主动回收这些资源呢，比如对象占用内存较大，想主动立即释放而不等待主动回收。可以写一个方法，在这个方法里释放引用的资源就可以了，这个方法可以随便起名，当然更规范的是继承 IDisposable 来实现 Disposable 方法。</p>
</li>
</ul>
<h3 id="C- 中数组、ArrayList 和 List 三者的区别"><a href="#C- 中数组、ArrayList 和 List 三者的区别" class="headerlink" title="C#中数组、ArrayList 和 List 三者的区别"></a>C# 中数组、<code>ArrayList</code>和 <code>List</code> 三者的区别 </h3><h4 id="数组"><a href="# 数组" class="headerlink" title="数组"></a> 数组 </h4><p> 数组在 C# 中最早出现的。在内存中是连续存储的，所以它的索引速度非常快，而且赋值与修改元素也很简单。但是数组存在一些不足的地方。在数组的两个数据间插入数据是很麻烦的，而且在声明数组的时候必须指定数组的长度，数组的长度过长，会造成内存浪费，过段会造成数据溢出的错误。如果在声明数组时我们不清楚数组的长度，就会变得很麻烦。</p>
<h4 id="ArrayList"><a href="#ArrayList" class="headerlink" title="ArrayList"></a><code>ArrayList</code></h4><p><code>ArrayList</code>是命名空间 <code>System.Collections</code> 下的一部分，在使用该类时必须进行引用，同时继承了 <code>IList</code> 接口，提供了数据存储和检索。<code>ArrayList</code>对象的大小是按照其中存储的数据来动态扩充与收缩的。所以，在声明 <code>ArrayList</code> 对象时并不需要指定它的长度。</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ArrayList</span></span><br><span class="line">ArrayList list1 = <span class="keyword">new</span> ArrayList();</span><br><span class="line"> </span><br><span class="line"><span class="comment">// 新增数据</span></span><br><span class="line">list1.Add(<span class="string">"cde"</span>);</span><br><span class="line">list1.Add(<span class="number">5678</span>);</span><br><span class="line"><span class="comment">// 修改数据</span></span><br><span class="line">list[<span class="number">2</span>] = <span class="number">34</span>;</span><br><span class="line"><span class="comment">// 移除数据</span></span><br><span class="line">list.RemoveAt(<span class="number">0</span>);</span><br><span class="line"><span class="comment">// 插入数据</span></span><br><span class="line">list.Insert(<span class="number">0</span>, <span class="string">"qwe"</span>);</span><br></pre></td></tr></table></figure>

<p>在 <code>ArrayList</code> 中，不仅插入了字符串，而且插入了数字。这样在 <code>ArrayList</code> 中插入不同类型的数据是允许的。因为 <code>ArrayList</code> 会把所有插入其中的数据当作为 <code>object</code> 类型来处理，在使用 <code>ArrayList</code> 处理数据时，很可能会报类型不匹配的错误，也就是 <code>ArrayList</code><strong> 不是类型安全的 </strong>。在存储或检索值类型时通常发生<strong> 装箱 </strong> 和<strong>拆箱 </strong> 操作，带来很大的性能耗损。</p>
<h4 id="泛型 List"><a href="# 泛型 List" class="headerlink" title="泛型 List"></a>泛型 <code>List</code></h4><p> 因为 <code>ArrayList</code> 存在不安全类型与装箱拆箱的缺点，所以出现了泛型的概念。<code>List</code>类是 <code>ArrayList</code> 类的泛型等效类，它的大部分用法都与 <code>ArrayList</code> 相似，因为 <code>List</code> 类也继承了 <code>IList</code> 接口。最关键的区别在于，在声明 <code>List</code> 集合时，同时需要为其声明 List 集合内数据的对象类型。</p>
<h3 id="Lambda- 表达式"><a href="#Lambda- 表达式" class="headerlink" title="Lambda 表达式"></a>Lambda 表达式 </h3><p> 使用 Lambda 表达式来创建匿名函数。 使用 <a target="_blank" rel="noopener" href="https://docs.microsoft.com/zh-cn/dotnet/csharp/language-reference/operators/lambda-operator">lambda 声明运算符<code>=&gt;</code></a> 从其主体中分离 lambda 参数列表。Lambda 表达式可采用以下任意一种形式：</p>
<ul>
<li><p>表达式 lambda，表达式为其主体：</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(input-parameters) =&gt; expression</span><br></pre></td></tr></table></figure></li>
<li><p>语句 lambda，语句块作为其主体：</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(input-parameters) =&gt; {&lt;sequence-of-statements&gt;}</span><br></pre></td></tr></table></figure></li>
</ul>
<p>若要创建 Lambda 表达式，需要在 Lambda 运算符左侧指定输入参数（如果有），然后在另一侧输入表达式或语句块。</p>
<h3 id="C-API"><a href="#C-API" class="headerlink" title="C# API"></a>C# API</h3><table>
<thead>
<tr>
<th align="left">syntax</th>
<th>interpretation</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>IsGenericType </code></td>
<td>判断属性类型是否为泛型类型，如：<br><code>typeof(int).IsGenericType --&gt; False</code><br><code>typeof(List&lt;int&gt;).IsGenericType --&gt; True</code><br><code>typeof(Dictionary&lt;int&gt;).IsGenericType --&gt; True</code></td>
</tr>
</tbody></table>
<h2 id="C- 相关 -1"><a href="#C- 相关 -1" class="headerlink" title="C++ 相关"></a>C++ 相关</h2><h3 id="C- 几个预定义的宏"><a href="#C- 几个预定义的宏" class="headerlink" title="C++ 几个预定义的宏"></a>C++ 几个预定义的宏</h3><ul>
<li><code>__LINE__</code>：源代码行号</li>
<li><code>__FILE__</code>：源文件名</li>
<li><code>__DATE</code>：编译日期</li>
<li><code>__TIME__</code>：编译时间</li>
<li><code>__STDC</code>：当要求程序严格遵循 ANSI C 标准时该标识被赋值为 1</li>
<li><code>__cplusplus</code>：当编写 C++ 程序时该表示被定义</li>
</ul>
<h2 id="Lua- 相关"><a href="#Lua- 相关" class="headerlink" title="Lua 相关"></a>Lua 相关</h2><h3 id="Lua- 语法"><a href="#Lua- 语法" class="headerlink" title="Lua 语法"></a>Lua 语法</h3><ul>
<li><p>定义字符串</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a= <span class="string">"双引号中可直接使用' 单引号 ', 但 \" 双引号 \"要转义"</span></span><br><span class="line">b = <span class="string">'单引号中可直接使用" 双引号 ", 但 \' 单引号 \'要转义'</span></span><br><span class="line">c = <span class="string">[[双方括号中 </span></span><br><span class="line"><span class="string"> 可以直接使用 '单引号'</span></span><br><span class="line"><span class="string">和 "双引号"，而且可以 </span></span><br><span class="line"><span class="string"> 换行]]</span></span><br></pre></td></tr></table></figure></li>
<li><p>格式字符串可能包含以下的转义码</p>
<p><code>%c</code> - 接受一个数字，并将其转化为 ASCII 码表中对应的字符 <br><code>%d</code>，<code>%i</code> - 接受一个数字并将其转化为有符号的整数格式<br><code>%o</code> - 接受一个数字并将其转化为八进制数格式<br><code>%u</code> - 接受一个数字并将其转化为无符号整数格式<br><code>%x</code> - 接受一个数字并将其转化为十六进制数格式，使用小写字母<br><code>%X</code> - 接受一个数字并将其转化为十六进制数格式，使用大写字母<br><code>%e</code> - 接受一个数字并将其转化为科学记数法格式，使用小写字母 e<br><code>%E</code> - 接受一个数字并将其转化为科学记数法格式，使用大写字母 E<br><code>%f</code> - 接受一个数字并将其转化为浮点数格式<br><code>%g/%G</code> - 接受一个数字并将其转化为<code>%e</code>（<code>%E</code>, 对应<code>%G</code>）及<code>%f</code> 中较短的一种格式<br><code>%q</code> - 接受一个字符串并将其转化为可安全被 Lua 编译器读入的格式（即将该字符串添加了<code> </code>）<br><code>%s</code> - 接受一个字符串并按照给定的参数格式化该字符串</p>
</li>
</ul>
<h3 id="Lua- 堆栈操作"><a href="#Lua- 堆栈操作" class="headerlink" title="Lua 堆栈操作"></a>Lua 堆栈操作 </h3><p>lua 和 C++ 之间的数据交互通过栈进行，栈中的数据通过索引值进行定位（若 lua 虚拟机堆栈里有<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="2.009ex" height="1.545ex" role="img" focusable="false" viewbox="0 -683 888 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D441" d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container> 个元素，则可以用 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="6.66ex" height="1.57ex" role="img" focusable="false" viewbox="0 -683 2943.6 694"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"/></g><g data-mml-node="mo" transform="translate(777.8,0)"><path data-c="2192" d="M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z"/></g><g data-mml-node="mi" transform="translate(2055.6,0)"><path data-c="1D441" d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container> 从战地向上索引，也可以用 <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.186ex;" xmlns="http://www.w3.org/2000/svg" width="10.18ex" height="1.731ex" role="img" focusable="false" viewbox="0 -683 4499.6 765"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"/></g><g data-mml-node="mn" transform="translate(778,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"/></g><g data-mml-node="mo" transform="translate(1555.8,0)"><path data-c="2192" d="M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z"/></g><g data-mml-node="mo" transform="translate(2833.6,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"/></g><g data-mml-node="mi" transform="translate(3611.6,0)"><path data-c="1D441" d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z"/></g></g></g></svg></mjx-container> 向下索引），正数表示相对于栈底的位置偏移，负数表示相对于栈顶的位置偏移。</p>
<ul>
<li><code>lua_gettop</code>：<code>int lua_gettop (lua_State *L);</code>返回栈顶元素的索引</li>
<li><code>lua_settop</code>：<code>void lua_settop (lua_State *L, int index);</code>参数允许传入任何可接受的索引以及 0 。它将把堆栈的栈顶设为这个索引。如果新的栈顶比原来的大，超出部分的新元素将被填为 <code>nil</code>。如果<code>index</code> 为 0，把栈上所有元素移除</li>
</ul>
<h3 id="Lua- 中的模式匹配（Pattern-Matching）"><a href="#Lua- 中的模式匹配（Pattern-Matching）" class="headerlink" title="Lua 中的模式匹配（Pattern Matching）"></a>Lua 中的模式匹配（Pattern Matching）</h3><h4 id="character-classes"><a href="#character-classes" class="headerlink" title="character classes"></a>character classes</h4><table>
<thead>
<tr>
<th align="left">符号</th>
<th>匹配模式</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>%a</code></td>
<td></td>
</tr>
<tr>
<td align="left"><code>%c</code></td>
<td></td>
</tr>
<tr>
<td align="left"><code>%d</code></td>
<td></td>
</tr>
<tr>
<td align="left"><code>%l</code></td>
<td></td>
</tr>
<tr>
<td align="left"><code>%p</code></td>
<td></td>
</tr>
<tr>
<td align="left"><code>%s</code></td>
<td>空白字符</td>
</tr>
<tr>
<td align="left"></td>
<td></td>
</tr>
</tbody></table>
<h4 id="magic-characters"><a href="#magic-characters" class="headerlink" title="magic characters"></a>magic characters</h4><table>
<thead>
<tr>
<th>符号</th>
<th>描述</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td><code>()</code></td>
<td>标记一个子模式，供后续使用，跟正则的用法类似</td>
<td></td>
</tr>
<tr>
<td><code>.</code></td>
<td>匹配所有字符</td>
<td>类似正则表达式，只不过正则表达式的，不包括回车<code>\n</code></td>
</tr>
<tr>
<td><code>%</code></td>
<td>1. 可用作转义符；<br>2. 声明 <code>character classess</code>;<br>3. 跟<code>()</code> 结合用于子模式匹配：<code>%N</code>，<code>N</code>是一个数字，表示匹配第 <code>N</code> 个子串，例如 <code>%1,%2, ...</code>，跟正则表达式的<code>1，2, ...</code> 类似</td>
<td></td>
</tr>
<tr>
<td><code>^</code></td>
<td>如果处于模式开头，则表示匹配输入字符串的开始位置，如果放在 <code>[]</code> 中，表示取补集</td>
<td></td>
</tr>
<tr>
<td><code>$</code></td>
<td>表示匹配输入字符串的结尾位置，跟正则表达式的用法基本一致</td>
<td></td>
</tr>
<tr>
<td><code>[]</code></td>
<td>表示一个字符集合</td>
<td>例如 <code>[%w_]</code> 表示匹配字母数字和下划线，<code>[a-f]</code>表示匹配字母 <code>a</code> 到<code>f</code></td>
</tr>
<tr>
<td><code>+</code></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>-</code></td>
<td>匹配前面的模式 0 次或多次，返回最短的匹配结果，模式匹配中的“非贪婪模式”</td>
<td></td>
</tr>
<tr>
<td><code>*</code></td>
<td>匹配前面的模式 0 次或多次</td>
<td></td>
</tr>
</tbody></table>
<h3 id="function-or-expression-needs-too-many-registers"><a href="#function-or-expression-needs-too-many-registers" class="headerlink" title="function or expression needs too many registers"></a>function or expression needs too many registers</h3><p><img src="/2021/11/05/3/function-or-expression-needs-too-many-register.png"></p>
<h3 id="Lua- 中的模块与 -module- 函数"><a href="#Lua- 中的模块与 -module- 函数" class="headerlink" title="Lua 中的模块与 module 函数"></a>Lua 中的模块与 module 函数 </h3><h4 id="编写模块的基本方法"><a href="# 编写模块的基本方法" class="headerlink" title="编写模块的基本方法"></a> 编写模块的基本方法</h4><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- test.lua</span></span><br><span class="line"><span class="keyword">local</span> M = {}</span><br><span class="line"><span class="keyword">local</span> modelName = ...</span><br><span class="line"><span class="built_in">_G</span>[modelName] = M</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">M.play</span><span class="params">()</span></span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">'play'</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">M.quit</span><span class="params">()</span></span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">'quit'</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">return</span> M</span><br></pre></td></tr></table></figure>

<p>模块内函数之间的调用仍然要保留模块名的限定符，如果是 <strong> 私有变量还需要加 local 关键字 </strong>，<strong> 同时不能加模块名限定符。</strong>可以把 <code>test.lua</code> 这个模块里的全局环境设置为 <code>M</code>，于是，我们直接定义函数的时候，不需要再带<code>M</code> 前缀。即：</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- test.lua</span></span><br><span class="line"><span class="keyword">local</span> M = {}</span><br><span class="line"><span class="keyword">local</span> modelName = ...</span><br><span class="line"><span class="built_in">_G</span>[modelName] = M</span><br><span class="line"></span><br><span class="line"><span class="built_in">package</span>.<span class="built_in">loaded</span>[modname] = M</span><br><span class="line"><span class="built_in">setfenv</span>(<span class="number">1</span>, M)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">play</span><span class="params">()</span></span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">'play'</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">quit</span><span class="params">()</span></span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">'quit'</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">return</span> M</span><br></pre></td></tr></table></figure>

<h4 id="module 函数"><a href="#module 函数" class="headerlink" title="module 函数"></a><code>module</code>函数 </h4><p> 在 Lua 5.1 中，可以用<code>module(...)</code> 函数来代替，如：</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>(..., <span class="built_in">package</span>.<span class="built_in">seeall</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">play</span><span class="params">()</span></span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">'play'</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">M.quit</span><span class="params">()</span></span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">'quit'</span>)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>

<p>由于在默认情况下，<code>module</code>不提供外部访问，必须在调用它之前，为需要访问的外部函数或模块声明适当的局部变量。然后 Lua 提供了一种更为方便的实现方式，即在调用 <code>module</code> 函数时，多传入一个 <code>package.seeall</code> 的参数，相当于<code>setmetatable(M, {__index = _G})</code></p>
<h4 id="抵制使用 module 函数来定义 -Lua- 模块"><a href="# 抵制使用 module 函数来定义 -Lua- 模块" class="headerlink" title="抵制使用 module 函数来定义 Lua 模块"></a>抵制使用 <code>module</code> 函数来定义 Lua 模块 </h4><p> 旧式的模块定义方式是通过 <code>*module("filename"[,package.seeall])*</code>来显示声明一个包，现在官方不推荐再使用这种方式。这种方式将会返回一个由 <code>filename</code> 模块函数组成的 <code>table</code>，并且还会定义一个包含该<code>table</code> 的全局变量。</p>
<p>如果只给 <code>module</code> 函数一个参数（也就是文件名）的话，前面定义的全局变量就都不可用了，包括 <code>print</code> 函数等，如果要让之前的全局变量可见，必须在定义 <code>module</code> 的时候加上参数 <code>package.seeall</code>。调用完<code>module</code> 函数之后， <code>print</code>这些系统函数不可使用的原因，是当前的整个环境被压入栈，不再可达。</p>
<p><code>module("filename", package.seeall)</code>这种写法仍然是不提倡的，官方给出了两点原因：</p>
<ol>
<li><code>package.seeall</code>这种方式破坏了模块的高内聚，原本引入 <code>filename</code> 模块只想调用它的 <code>foobar()</code> 函数，但是它却可以读写全局属性，例如<code>filename.os</code>。</li>
<li><code>module</code>函数压栈操作引发的副作用，污染了全局环境变量。例如 <code>module("filename")</code> 会创建一个 <code>filename</code> 的<code>table</code>，并将这个 <code>table</code> 注入全局环境变量中，这样使得没有引用它的文件也能调用 <code>filename</code> 模块的方法。</li>
</ol>
<h5 id="比较推荐的模块定义方法"><a href="# 比较推荐的模块定义方法" class="headerlink" title="比较推荐的模块定义方法"></a>比较推荐的模块定义方法</h5><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- square.lua 长方形模块</span></span><br><span class="line"><span class="keyword">local</span> _M = {}           <span class="comment">-- 局部的变量</span></span><br><span class="line">_M.<span class="built_in">_VERSION</span> = <span class="string">'1.0'</span>     <span class="comment">-- 模块版本</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">local</span> mt = {<span class="built_in">__index</span> = _M }</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">_M.new</span><span class="params">(self, width, height)</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">setmetatable</span>({width=width, height=height}, mt)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">_M.get_square</span><span class="params">(self)</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">self</span>.width * <span class="built_in">self</span>.height</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">_M.get_circumference</span><span class="params">(self)</span></span></span><br><span class="line">    <span class="keyword">return</span> (<span class="built_in">self</span>.width + <span class="built_in">self</span>.height) * <span class="number">2</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> _M</span><br></pre></td></tr></table></figure>

<h6 id="引用示例代码"><a href="# 引用示例代码" class="headerlink" title="引用示例代码"></a>引用示例代码</h6><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> square = <span class="built_in">require</span> <span class="string">"square"</span> </span><br><span class="line"></span><br><span class="line"><span class="keyword">local</span> s1 = square:new(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(s1:get_square())          <span class="comment">--output: 2</span></span><br><span class="line"><span class="built_in">print</span>(s1:get_circumference())   <span class="comment">--output: 6</span></span><br></pre></td></tr></table></figure>

<h2 id="Python- 相关"><a href="#Python- 相关" class="headerlink" title="Python 相关"></a>Python 相关 </h2><h3 id="生成 requirements-txt 文件"><a href="# 生成 requirements-txt 文件" class="headerlink" title="生成 requirements.txt 文件"></a> 生成 <code>requirements.txt</code> 文件 </h3><h4 id="方法一"><a href="# 方法一" class="headerlink" title="方法一"></a> 方法一</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip freeze &gt; requirements.txt</span><br></pre></td></tr></table></figure>

<p><code>pip freeze</code>命令输出的格式和 <code>requirements.txt</code> 文件内容格式完全一样，因此我们可以将 <code>pip freeze</code> 的内容输出到文件 <code>requirements.txt</code> 中。在其他机器上可以根据导出的 <code>requirements.txt</code> 进行包安装。</p>
<h4 id="方法二"><a href="# 方法二" class="headerlink" title="方法二"></a>方法二</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pipreqs . --encoding=utf8 --force</span><br></pre></td></tr></table></figure>

<p>生成指定目录下的依赖类库</p>

        </div>

        

        
            <div class="article-nav">
                
                    <div class="article-prev">
                        <a class="prev"
                           rel="prev"
                           href="/2021/11/05/4/"
                        >
                            <span class="left arrow-icon flex-center">
                              <i class="fas fa-chevron-left"></i>
                            </span>
                            <span class="title flex-center">
                                <span class="post-nav-title-item">渲染管线</span>
                                <span class="post-nav-item">Prev posts</span>
                            </span>
                        </a>
                    </div>
                
                
                    <div class="article-next">
                        <a class="next"
                           rel="next"
                           href="/2021/11/04/2/"
                        >
                            <span class="title flex-center">
                                <span class="post-nav-title-item">OpenGL 基础</span>
                                <span class="post-nav-item">Next posts</span>
                            </span>
                            <span class="right arrow-icon flex-center">
                              <i class="fas fa-chevron-right"></i>
                            </span>
                        </a>
                    </div>
                
            </div>
        

        
            <div class="comment-container">
                <div class="comments-container">
    <div id="comment-anchor"></div>
    <div class="comment-area-title">
        <i class="fas fa-comments">&nbsp;Comments</i>
    </div>
    

        
            
    <div id="gitalk-container"></div>
    <script 
            src="//cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.js"></script>
    <script >

        function loadGitalk() {
            let __gitalk__pathname = decodeURI(location.pathname);
            const __gitalk__pathnameLength = __gitalk__pathname.length;
            const __gitalk__pathnameMaxLength = 50;
            if (__gitalk__pathnameLength > __gitalk__pathnameMaxLength) {
                __gitalk__pathname = __gitalk__pathname.substring(0, __gitalk__pathnameMaxLength - 3) + '...';
            }

            try {
                Gitalk && new Gitalk({
                    clientID: '0c74e477328e28bacf97',
                    clientSecret: '62fd1a94cf185360ac2d2947665725e2eabf5e8d',
                    repo: 'SilhouettesForYou.github.io',
                    owner: 'SilhouettesForYou',
                    admin: ['SilhouettesForYou'],
                    id: __gitalk__pathname,
                    language: 'zh-Hans'
                }).render('gitalk-container');

            } catch (e) {
                window.Gitalk = null;
            }
        }

        if ('false') {
            const loadGitalkTimeout = setTimeout(() => {
                loadGitalk();
                clearTimeout(loadGitalkTimeout);
            }, 1000);
        } else {
            window.addEventListener('DOMContentLoaded', loadGitalk);
        }
    </script>



        
    
</div>

            </div>
        
    </div>
</div>

                
            </div>

        </div>

        <div class="page-main-content-bottom">
            <footer class="footer">
    <div class="info-container">
        <div class="copyright-info info-item">
            &copy;
            
              <span>2020</span>
              -
            
            2024&nbsp;<i class="fas fa-heart icon-animate"></i>&nbsp;<a href="/">xiao ming</a>
        </div>
        
        
        
        
    </div>
</footer>

        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="tools-list">
        <!-- TOC aside toggle -->
        
            <li class="tools-item page-aside-toggle">
                <i class="fas fa-outdent"></i>
            </li>
        

        <!-- go comment -->
        
            <li class="go-comment">
                <i class="fas fa-comment"></i>
            </li>
        

        
    </ul>
</div>

        </div>
    

    <div class="right-bottom-side-tools">
        <div class="side-tools-container">
    <ul class="side-tools-list">
        <li class="tools-item tool-font-adjust-plus flex-center">
            <i class="fas fa-search-plus"></i>
        </li>

        <li class="tools-item tool-font-adjust-minus flex-center">
            <i class="fas fa-search-minus"></i>
        </li>

        <li class="tools-item tool-expand-width flex-center">
            <i class="fas fa-arrows-alt-h"></i>
        </li>

        <li class="tools-item tool-dark-light-toggle flex-center">
            <i class="fas fa-moon"></i>
        </li>

        <!-- rss -->
        

        
            <li class="tools-item tool-scroll-to-top flex-center">
                <i class="fas fa-arrow-up"></i>
            </li>
        

        <li class="tools-item tool-scroll-to-bottom flex-center">
            <i class="fas fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="exposed-tools-list">
        <li class="tools-item tool-toggle-show flex-center">
            <i class="fas fa-cog fa-spin"></i>
        </li>
        
    </ul>

</div>

    </div>

    
        <aside class="page-aside">
            
    <div class="post-toc-wrap">
        <div class="post-toc">
            <ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Git-%20%E7%9B%B8%E5%85%B3"><span class="nav-number">1.</span> <span class="nav-text">Git 相关</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4"><span class="nav-number">1.1.</span> <span class="nav-text">相关命令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Hexo-%20%E9%83%A8%E7%BD%B2%E7%9A%84%E5%8D%9A%E5%AE%A2%20-Git-%20%E6%8F%90%E4%BA%A4%E5%88%B0%20-Github-%20%E8%B4%A6%E6%88%B7%E9%94%99%E4%B9%B1%E7%9A%84%E9%97%AE%E9%A2%98"><span class="nav-number">1.2.</span> <span class="nav-text">Hexo 部署的博客 Git 提交到 Github 账户错乱的问题 </span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95"><span class="nav-number">1.2.1.</span> <span class="nav-text">解决方法 </span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Git-%20%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84%E8%A7%A3%E6%9E%90"><span class="nav-number">1.3.</span> <span class="nav-text">Git 文件目录结构解析</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Git-%20%E5%88%87%E6%8D%A2%E8%BF%9C%E7%AB%AF%E5%88%86%E6%94%AF"><span class="nav-number">1.4.</span> <span class="nav-text">Git 切换远端分支 </span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E6%89%80%E6%9C%89%E5%88%86%E6%94%AF"><span class="nav-number">1.4.1.</span> <span class="nav-text"> 查看所有分支</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%96%B0%E5%BB%BA%E5%88%86%E6%94%AF%E5%B9%B6%E5%88%87%E6%8D%A2%E5%88%B0%E6%8C%87%E5%AE%9A%E5%88%86%E6%94%AF"><span class="nav-number">1.4.2.</span> <span class="nav-text">新建分支并切换到指定分支</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E6%9C%AC%E5%9C%B0%E5%88%86%E6%94%AF%E5%8F%8A%E8%BF%BD%E8%B8%AA%E7%9A%84%E5%88%86%E6%94%AF"><span class="nav-number">1.4.3.</span> <span class="nav-text">查看本地分支及追踪的分支</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#git-cherry-pick%20%E7%94%A8%E6%B3%95"><span class="nav-number">1.5.</span> <span class="nav-text">git cherry-pick用法 </span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BD%AC%E7%A7%BB%E4%B8%80%E4%B8%AA%E6%8F%90%E4%BA%A4"><span class="nav-number">1.5.1.</span> <span class="nav-text">转移一个提交</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BD%AC%E7%A7%BB%E5%A4%9A%E4%B8%AA%E6%8F%90%E4%BA%A4"><span class="nav-number">1.5.2.</span> <span class="nav-text">转移多个提交</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Unity-%20%E7%9B%B8%E5%85%B3"><span class="nav-number">2.</span> <span class="nav-text">Unity 相关 </span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%87%A0%E7%A7%8D%20Update%20%E6%96%B9%E6%B3%95%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="nav-number">2.1.</span> <span class="nav-text"> 几种 Update 方法的区别 </span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Update"><span class="nav-number">2.1.1.</span> <span class="nav-text">Update</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#FixedUpdate"><span class="nav-number">2.1.2.</span> <span class="nav-text">FixedUpdate</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#LastUpdate"><span class="nav-number">2.1.3.</span> <span class="nav-text">LastUpdate</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Unity3D-%20%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E2%80%94%E2%80%94%E5%AF%B9%E8%B1%A1%E6%B1%A0%EF%BC%88Object-Pool%EF%BC%89"><span class="nav-number">2.2.</span> <span class="nav-text">Unity3D 内存管理——对象池（Object Pool）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8D%8F%E7%A8%8B"><span class="nav-number">2.3.</span> <span class="nav-text">协程 </span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8D%8F%E7%A8%8B%E7%9A%84%E6%89%A7%E8%A1%8C%E5%8E%9F%E7%90%86"><span class="nav-number">2.3.1.</span> <span class="nav-text">协程的执行原理 </span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#IEnumberator"><span class="nav-number">2.3.1.1.</span> <span class="nav-text">IEnumberator</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#yield"><span class="nav-number">2.3.1.2.</span> <span class="nav-text">yield</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%AD%E6%96%AD%E5%87%BD%E6%95%B0%E7%B1%BB%E5%9E%8B"><span class="nav-number">2.3.2.</span> <span class="nav-text">中断函数类型</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Unity-EditorWindow-%20%E7%9A%84%20OnGUI%20%E5%88%B7%E6%96%B0"><span class="nav-number">2.4.</span> <span class="nav-text">Unity EditorWindow 的 OnGUI 刷新 </span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#C-%20%E7%9B%B8%E5%85%B3"><span class="nav-number">3.</span> <span class="nav-text">C# 相关 </span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#C-%20%E6%B3%9B%E5%9E%8B%E7%BA%A6%E6%9D%9F"><span class="nav-number">3.1.</span> <span class="nav-text">C# 泛型约束</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#default%20%E5%87%BD%E6%95%B0"><span class="nav-number">3.2.</span> <span class="nav-text">default函数 </span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#C-%20%E4%B8%AD%20is%EF%BC%8Cas%EF%BC%8Cusing%20%E5%85%B3%E9%94%AE%E5%AD%97%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="nav-number">3.3.</span> <span class="nav-text">C# 中 is，as，using 关键字的使用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ref%20%E5%92%8C%20out%20%E5%85%B3%E9%94%AE%E5%AD%97"><span class="nav-number">3.4.</span> <span class="nav-text">ref和 out 关键字</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#C-%20%E7%89%B9%E6%80%A7%E6%A0%87%E7%AD%BE%EF%BC%88Attribute%EF%BC%89"><span class="nav-number">3.5.</span> <span class="nav-text">C# 特性标签（Attribute）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E8%87%AA%E5%AE%9A%E4%B9%89%E7%89%B9%E6%80%A7"><span class="nav-number">3.5.1.</span> <span class="nav-text">创建自定义特性 </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AE%BF%E9%97%AE%E7%89%B9%E6%80%A7"><span class="nav-number">3.5.2.</span> <span class="nav-text">访问特性 </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%89%B9%E6%80%A7%E4%B8%8E%E6%B3%A8%E9%87%8A%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="nav-number">3.5.3.</span> <span class="nav-text">特性与注释的区别 </span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Action%20%E5%A7%94%E6%89%98%E4%B8%8E%20Func%20%E5%A7%94%E6%89%98"><span class="nav-number">3.6.</span> <span class="nav-text">Action委托与 Func 委托 </span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Activator-CreateInstance-lt-T-gt-%20%E4%B8%8E%20new"><span class="nav-number">3.7.</span> <span class="nav-text">Activator.CreateInstance&lt;T&gt;与 new</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#C-%20%E8%B5%84%E6%BA%90%E5%9B%9E%E6%94%B6%E5%92%8C%20IDisposable%20%E6%8E%A5%E5%8F%A3%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="nav-number">3.8.</span> <span class="nav-text">C# 资源回收和 IDisposable 接口的使用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#C-%20%E4%B8%AD%E6%95%B0%E7%BB%84%E3%80%81ArrayList%20%E5%92%8C%20List%20%E4%B8%89%E8%80%85%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="nav-number">3.9.</span> <span class="nav-text">C# 中数组、ArrayList和 List 三者的区别 </span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%B0%E7%BB%84"><span class="nav-number">3.9.1.</span> <span class="nav-text"> 数组 </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ArrayList"><span class="nav-number">3.9.2.</span> <span class="nav-text">ArrayList</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B3%9B%E5%9E%8B%20List"><span class="nav-number">3.9.3.</span> <span class="nav-text">泛型 List</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Lambda-%20%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-number">3.10.</span> <span class="nav-text">Lambda 表达式 </span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#C-API"><span class="nav-number">3.11.</span> <span class="nav-text">C# API</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#C-%20%E7%9B%B8%E5%85%B3%20-1"><span class="nav-number">4.</span> <span class="nav-text">C++ 相关</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#C-%20%E5%87%A0%E4%B8%AA%E9%A2%84%E5%AE%9A%E4%B9%89%E7%9A%84%E5%AE%8F"><span class="nav-number">4.1.</span> <span class="nav-text">C++ 几个预定义的宏</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Lua-%20%E7%9B%B8%E5%85%B3"><span class="nav-number">5.</span> <span class="nav-text">Lua 相关</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Lua-%20%E8%AF%AD%E6%B3%95"><span class="nav-number">5.1.</span> <span class="nav-text">Lua 语法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Lua-%20%E5%A0%86%E6%A0%88%E6%93%8D%E4%BD%9C"><span class="nav-number">5.2.</span> <span class="nav-text">Lua 堆栈操作 </span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Lua-%20%E4%B8%AD%E7%9A%84%E6%A8%A1%E5%BC%8F%E5%8C%B9%E9%85%8D%EF%BC%88Pattern-Matching%EF%BC%89"><span class="nav-number">5.3.</span> <span class="nav-text">Lua 中的模式匹配（Pattern Matching）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#character-classes"><span class="nav-number">5.3.1.</span> <span class="nav-text">character classes</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#magic-characters"><span class="nav-number">5.3.2.</span> <span class="nav-text">magic characters</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#function-or-expression-needs-too-many-registers"><span class="nav-number">5.4.</span> <span class="nav-text">function or expression needs too many registers</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Lua-%20%E4%B8%AD%E7%9A%84%E6%A8%A1%E5%9D%97%E4%B8%8E%20-module-%20%E5%87%BD%E6%95%B0"><span class="nav-number">5.5.</span> <span class="nav-text">Lua 中的模块与 module 函数 </span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BC%96%E5%86%99%E6%A8%A1%E5%9D%97%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%96%B9%E6%B3%95"><span class="nav-number">5.5.1.</span> <span class="nav-text"> 编写模块的基本方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#module%20%E5%87%BD%E6%95%B0"><span class="nav-number">5.5.2.</span> <span class="nav-text">module函数 </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8A%B5%E5%88%B6%E4%BD%BF%E7%94%A8%20module%20%E5%87%BD%E6%95%B0%E6%9D%A5%E5%AE%9A%E4%B9%89%20-Lua-%20%E6%A8%A1%E5%9D%97"><span class="nav-number">5.5.3.</span> <span class="nav-text">抵制使用 module 函数来定义 Lua 模块 </span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%AF%94%E8%BE%83%E6%8E%A8%E8%8D%90%E7%9A%84%E6%A8%A1%E5%9D%97%E5%AE%9A%E4%B9%89%E6%96%B9%E6%B3%95"><span class="nav-number">5.5.3.1.</span> <span class="nav-text">比较推荐的模块定义方法</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%BC%95%E7%94%A8%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81"><span class="nav-number">5.5.3.1.1.</span> <span class="nav-text">引用示例代码</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Python-%20%E7%9B%B8%E5%85%B3"><span class="nav-number">6.</span> <span class="nav-text">Python 相关 </span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%94%9F%E6%88%90%20requirements-txt%20%E6%96%87%E4%BB%B6"><span class="nav-number">6.1.</span> <span class="nav-text"> 生成 requirements.txt 文件 </span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80"><span class="nav-number">6.1.1.</span> <span class="nav-text"> 方法一</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%96%B9%E6%B3%95%E4%BA%8C"><span class="nav-number">6.1.2.</span> <span class="nav-text">方法二</span></a></li></ol></li></ol></li></ol>
        </div>
    </div>


        </aside>
    

    <div class="image-viewer-container">
    <img src="">
</div>


    
        <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
          <span class="search-input-field-pre">
            <i class="fas fa-keyboard"></i>
          </span>
            <div class="search-input-container">
                <input autocomplete="off"
                       autocorrect="off"
                       autocapitalize="off"
                       placeholder="Search..."
                       spellcheck="false"
                       type="search"
                       class="search-input"
                >
            </div>
            <span class="popup-btn-close">
                <i class="fas fa-times"></i>
            </span>
        </div>
        <div id="search-result">
            <div id="no-result">
                <i class="fas fa-spinner fa-pulse fa-5x fa-fw"></i>
            </div>
        </div>
    </div>
</div>

    

</main>



<script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/utils.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/main.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/header-shrink.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/back2top.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/dark-light-toggle.js"></script>


    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/local-search.js"></script>



    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/code-copy.js"></script>




<div class="post-scripts">
    
        <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/left-side-toggle.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/libs/anime.min.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.3/source/js/toc.js"></script>
    
</div>



<!-- hexo injector body_end start --><script src="https://cdn.jsdelivr.net/npm/hexo-tag-common@0.0.5/js/index.js"></script><!-- hexo injector body_end end --><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2dw/assets/hijiki.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"react":{"opacity":0.7}});</script></body>
</html>
